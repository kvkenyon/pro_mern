{"version":3,"sources":["../server/issue.js"],"names":["validIssueStatus","New","Open","Assigned","Fixed","Verified","Closed","issueFieldType","status","owner","effort","created","completionDate","title","validateIssue","issue","keys","Object","i","length","field","type"],"mappings":";;;;;AAAA;AACA;AACA;AACA,MAAMA,mBAAmB;AACvBC,OAAK,IADkB;AAEvBC,QAAM,IAFiB;AAGvBC,YAAU,IAHa;AAIvBC,SAAO,IAJgB;AAKvBC,YAAU,IALa;AAMvBC,UAAQ;AANe,CAAzB;;AASA,MAAMC,iBAAiB;AACrBC,UAAQ,UADa;AAErBC,SAAO,UAFc;AAGrBC,UAAQ,UAHa;AAIrBC,WAAS,UAJY;AAKrBC,kBAAgB,UALK;AAMrBC,SAAO;AANc,CAAvB;;AASA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC5B,QAAMC,OAAOC,OAAOD,IAAP,CAAYT,cAAZ,CAAb;AACA,OAAK,IAAIW,IAAI,CAAb,EAAgBA,IAAIF,KAAKG,MAAzB,EAAiCD,KAAK,CAAtC,EAAyC;AACvC,UAAME,QAAQJ,KAAKE,CAAL,CAAd;AACA,UAAMG,OAAOd,eAAea,KAAf,CAAb;AACA,QAAI,CAACC,IAAL,EAAW;AACT,aAAON,MAAMK,KAAN,CAAP;AACD,KAFD,MAEO,IAAIC,SAAS,UAAT,IAAuB,CAACN,MAAMK,KAAN,CAA5B,EAA0C;AAC/C,aAAQ,GAAEA,KAAM,eAAhB;AACD;AACF;;AAED,MAAI,CAACpB,iBAAiBe,MAAMP,MAAvB,CAAL,EAAqC;AACnC,WAAQ,GAAEO,MAAMP,MAAO,yBAAvB;AACD;;AAED,SAAO,IAAP;AACD;;kBAEc;AACbM;AADa,C","file":"issue.js","sourcesContent":["// ----------------------\n// Server-side validation\n// ----------------------\nconst validIssueStatus = {\n  New: true,\n  Open: true,\n  Assigned: true,\n  Fixed: true,\n  Verified: true,\n  Closed: true,\n};\n\nconst issueFieldType = {\n  status: 'required',\n  owner: 'required',\n  effort: 'optional',\n  created: 'required',\n  completionDate: 'optional',\n  title: 'required',\n};\n\nfunction validateIssue(issue) {\n  const keys = Object.keys(issueFieldType);\n  for (let i = 0; i < keys.length; i += 1) {\n    const field = keys[i];\n    const type = issueFieldType[field];\n    if (!type) {\n      delete issue[field];\n    } else if (type === 'required' && !issue[field]) {\n      return `${field} is required.`;\n    }\n  }\n\n  if (!validIssueStatus[issue.status]) {\n    return `${issue.status} is not a valid status.`;\n  }\n\n  return null;\n}\n\nexport default {\n  validateIssue,\n};\n"]}